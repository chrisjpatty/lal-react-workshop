import { Appear, Notes, Image } from 'mdx-deck'
import { dark as darkTheme } from 'mdx-deck/themes'
import Syntax from './components/Syntax'
import theme from './theme'
import { Split } from 'mdx-deck/layouts'
import Hi from './components/Highlight'
import SVG from './components/SVG'
import AppearSplit from './components/AppearSplit'
import SplitCode from './components/SplitCode'
import FullsizeSandbox from './components/FullsizeSandbox'
import vsDark from "./surfTheme";
import { CodeSurferColumnLayout, Step, Code } from "code-surfer";

export const themes = [darkTheme, Syntax, vsDark, theme]

# Developing for <Hi>Accessibility</Hi>
*Common problems & how to fix them*

---

## What is accessibility?

---

<Notes>Capable of being reached, capable of being understood or appreciated</Notes>

<Appear>
  <h3>1. Capable of being <Hi>reached</Hi></h3>
  <h3>2. Capable of being <Hi>understood</Hi> or <Hi>appreciated</Hi></h3>
</Appear>

---

## Accessible websites are:

<Notes>So when we talk about websites being accessible, we really mean that they are navigable, and comprehendible.</Notes>

<Appear>
  <h1><Hi>Navigable</Hi></h1>
  <h1><Hi>Comprehendible</Hi></h1>
</Appear>

---

<Notes>Visual, motor, auditory, cognitive. I'm only talking about the first two.</Notes>

## Conditions requiring assistive technologies:

<Appear>

## <Hi>Visual impairments</Hi>

## <Hi>Motor impairments</Hi>

## Auditory impairments

## Cognitive impairments

</Appear>

---

<Notes>According to the CDC</Notes>

According to the CDC

<Appear>

<h1><Hi>11%</Hi> of US adults are visually impaired in some way \*</h1>

\* _Does not include normal correctable vision problems_

<h1><Hi>36,000,000</Hi> people</h1>

</Appear>

---

import California from './img/california.js'
import LeftHanded from './img/left-handed.js'

<AppearSplit
  left={<California width="30vw"/>}
  right={<LeftHanded width="30vw"/>}
/>

---

<Notes>As best I could find in my research</Notes>

<h1><Hi>7% - 15%</Hi> of US adults live with a motor impairment \*</h1>

\* _This statistic was harder to pin down_

---

<Notes>Some examples of assitive technologies.</Notes>

<Split>

### Braille Monitors

![](./img/braille.jpg)

</Split>

---

<Split>

![](./img/screen-reader.jpg)

### Screen Readers

</Split>

---

<Split>

### Non-mouse/keyboard input devices

![](./img/joystick.jpg)

</Split>

---

## Why should we make the web accessible?

---

# It's the law

<Appear>

Covered by the <Hi>Americans with Disabilities Act (ADA)</Hi>

In <Hi>2017 alone</Hi> there were <Hi>817 lawsuits</Hi> over inaccessible websites

</Appear>

---

More importantly:

<Appear>

# It's the right thing to do

Gives <Hi>everyone</Hi> access to the services <Hi>they pay for</Hi> with their taxes

Helps make the web a less frustrating place for <Hi>everybody</Hi>

</Appear>

---

<Notes>Accessibility is a really big topic, but today I want to focus on two main aspects:</Notes>

<Appear>

<h1>1. <Hi>Screen reader support</Hi></h1>

<h1>2. <Hi>Keyboard navigation</Hi></h1>

</Appear>

---

# Common Problems

---

## Problem \#1

<h2><Hi>Overusing generic elements</Hi> (&lt;<Hi>div</Hi>&gt;, &lt;<Hi>span</Hi>&gt;, etc)</h2>

---

import StructureExample from './components/StructureExample'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <StructureExample />
    <Code
      code={require("!!raw-loader!./code/structure.1.0.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <StructureExample />
    <Code
      code={require("!!raw-loader!./code/structure.1.1.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <StructureExample />
    <Code
      code={require("!!raw-loader!./code/structure.1.3.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <StructureExample />
    <Code
      code={require("!!raw-loader!./code/structure.1.4.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <StructureExample />
    <Code
      code={require("!!raw-loader!./code/structure.1.5.js").default}
      lang="html"
      focus="1:11"
    />
  </Step>
</CodeSurferColumnLayout>

---

<Notes>HTML Tags are used to signal the structure of the page to screen readers. They're also responsible for establishing a natural tab-order for keyboard users.</Notes>

### HTML tags have semantic meanings

# &lt;<Hi>header</Hi>&gt; &lt;<Hi>button</Hi>&gt; &lt;<Hi>footer</Hi>&gt; &lt;<Hi>form</Hi>&gt;

# &lt;<Hi>table</Hi>&gt; &lt;<Hi>a</Hi>&gt; &lt;<Hi>input</Hi>&gt; &lt;<Hi>nav</Hi>&gt;

---

Lesser-known semantic elements:

## &lt;<Hi>article</Hi>&gt; &lt;<Hi>blockquote</Hi>&gt; &lt;<Hi>progress</Hi>&gt; &lt;<Hi>dialog</Hi>&gt;

## &lt;<Hi>time</Hi>&gt; &lt;<Hi>output</Hi>&gt; &lt;<Hi>menu</Hi>&gt; &lt;<Hi>details</Hi>&gt; &lt;<Hi>meter</Hi>&gt;

---


## Rule \#1

<h1><Hi>Let the browser do its job</Hi></h1>

---

## HTML documents are accessible <Hi>by default</Hi><br/><br/>

Websites usually become inaccessible <br/>when we <Hi>override</Hi> the browser's default behavior.

---

## Problem \#2

<h2><Hi>Incorrectly associating elements</Hi></h2>

---

### Some HTML tags <Hi>require</Hi> relationships with other tags

# &lt;<Hi>label</Hi>&gt; &lt;<Hi>input</Hi>&gt;

---

import InputsExample from './components/InputsExample'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <InputsExample />
    <Code
      code={require("!!raw-loader!./code/inputs.1.0.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <InputsExample />
    <Code
      code={require("!!raw-loader!./code/inputs.1.1.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <InputsExample />
    <Code
      code={require("!!raw-loader!./code/inputs.1.2.js").default}
      lang="html"
    />
  </Step>
  <Step>
    <InputsExample />
    <Code
      code={require("!!raw-loader!./code/inputs.1.2.js").default}
      lang="html"
      focus="1:19"
    />
  </Step>
</CodeSurferColumnLayout>

---

## Problem \#3

<h2>Attaching events to <Hi>non-interactive elements</Hi></h2>

---

import InteractiveExample from './components/InteractiveExample'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <InteractiveExample />
    <Code
      code={require("!!raw-loader!./code/interactive.1.0.js").default}
      lang="jsx"
    />
  </Step>
  <Step>
    <InteractiveExample interactive />
    <Code
      code={require("!!raw-loader!./code/interactive.1.1.js").default}
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

## Problem \#4

<h2>Using HTML elements <Hi>based on how they look</Hi></h2>

---

import LinksExample from './components/LinksExample'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <LinksExample />
    <Code
      code={require("!!raw-loader!./code/links.1.0.js").default}
      lang="jsx"
    />
  </Step>
  <Step>
    <LinksExample />
    <Code
      code={require("!!raw-loader!./code/links.1.1.js").default}
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

## Rule \#2

<h2>Pick HTML elements based on what they <Hi>mean</Hi>, <br/>not based on how they <Hi>look</Hi></h2>

---

## I get it. <Hi>CSS is hard</Hi>

![](https://media.giphy.com/media/yYSSBtDgbbRzq/giphy.gif)

---

## Problem \#5

<h1>Updating the DOM <br/><Hi>without announcement</Hi></h1>

<!-- ![](https://media.giphy.com/media/3oEduT008ys8BMEVB6/source.gif) -->

---

![](./img/problems.png)

---

![](./img/problems-2.png)

---

<!-- <FullsizeSandbox>
  <iframe src="https://codesandbox.io/embed/ewxih?fontsize=22&hidenavigation=1" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
</FullsizeSandbox> -->

import FormExample from './components/FormExample'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.0.js").default}
      lang="jsx"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.1.js").default}
      lang="jsx"
      focus="4:8,16"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.2.js").default}
      lang="jsx"
      focus="16"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.3.js").default}
      lang="jsx"
      focus="16:18"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.4.js").default}
      lang="jsx"
      focus="13:19,21:26"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.5.js").default}
      lang="jsx"
      focus="23"
    />
  </Step>
  <Step>
    <FormExample />
    <Code
      code={require("!!raw-loader!./code/live.1.5.js").default}
      lang="jsx"
      focus="1:30"
    />
  </Step>
</CodeSurferColumnLayout>

---

## Problem \#6

## Relying on <Hi>color</Hi> to convey meaning

---

import Colorblind from './components/Colorblind'

<Colorblind />

---

## Problem \#7

## Relying on <Hi>icons</Hi> to convey meaning

---

import Icons from './components/Icons'

<CodeSurferColumnLayout sizes={[1, 2]}>
  <Step>
    <Icons />
    <Code
      code={require("!!raw-loader!./code/button.1.0.html").default}
      lang="jsx"
    />
  </Step>
  <Step>
    <Icons />
    <Code
      code={require("!!raw-loader!./code/button.1.1.html").default}
      lang="jsx"
    />
  </Step>
  <Step>
    <Icons />
    <Code
      code={require("!!raw-loader!./code/button.1.2.html").default}
      lang="jsx"
    />
  </Step>
</CodeSurferColumnLayout>

---

## Problem \#8

## Relying on <Hi>component libraries</Hi> for accessibility

---

<img src="./img/libraries.png" style={{width: '40vw'}} />

---

## Problem \#9

## Relying <Hi>only</Hi> on <Hi>a11y scanners</Hi> for accessibility

---

## [Google Lighthouse](https://developers.google.com/web/tools/lighthouse/)
## [WAVE Accessibility Tool](https://wave.webaim.org)

---

<Appear>  

# YOU <Hi>SHOULD</Hi> STILL USE THESE TOOLS

## But, 100% in Lighthouse <Hi>does not</Hi> mean that a site is fully accessible

\([See why here](https://www.matuzo.at/blog/building-the-most-inaccessible-site-possible-with-a-perfect-lighthouse-score/)\)

</Appear>

---

<Appear>

## Accessibility is like security. <br/> <Hi>There's no magic bullet</Hi> that fixes all your problems.

## <br/>Making a site accessible takes <Hi>empathy</Hi>, <Hi>careful planning</Hi>, and <Hi>thorough testing</Hi>.

</Appear>

---

# <Hi>Challenge</Hi>

Spend a few minutes in your projects the way <br/> persons with visual or motor impairments do.

- Turn off your monitor
- Unplug your mouse
- Download and use a screen reader ([NVDA](https://www.nvaccess.org/download/), [JAWS](https://www.freedomscientific.com/products/software/jaws/), [Voiceover](https://www.apple.com/accessibility/mac/vision/))
- Turn on a colorblindness filter
- Rub lotion on your glasses

---

<img src='./img/chromedev.png' style={{width: '50vw'}} />

---

## Resources

- [Semantic HTML elements (MDN)](https://developer.mozilla.org/en-US/docs/Web/HTML/Element)
- [ARIA attribute reference (MDN)](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA)
- [Understanding live regions (MDN)](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions)
- [Web AIM Survey](https://webaim.org/projects/screenreadersurvey7/)
- [W3C Web Accessibility Initiative (WAI)](https://www.w3.org/WAI/standards-guidelines/aria/)
- [Google Lighthouse](https://developers.google.com/web/tools/lighthouse/)
